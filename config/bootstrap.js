/**
 * Bootstrap
 * (sails.config.bootstrap)
 *
 * An asynchronous bootstrap function that runs just before your Sails app gets lifted.
 * > Need more flexibility?  You can also do this by creating a hook.
 *
 * For more information on bootstrapping your app, check out:
 * https://sailsjs.com/config/bootstrap
 */

module.exports.bootstrap = async function(done) {
  // Set up fake development data (or if we already have some, avast)
  if (await Users.count() <= 0) {
    await Users.createEach([
      { username: 'nergal' },
      { username: 'merdoc' },
    ]);
  }

  if (await EventTypes.count() <= 0) {
    await EventTypes.createEach([
      { name: '–ö–∞–º–µ—Ä–∫–∞', slug: 'camera' },
      { name: '–ü–æ–ª–∏–≥–æ–Ω–∫–∞', slug: 'poly' },
      { name: '–ì–æ—Ä–æ–¥—Å–∫–∞—è', slug: 'city' },
      { name: '–ù–∞—Å—Ç–æ–ª—å–Ω–∞—è', slug: 'desk' },
    ]);
  }

  if (await Events.count() <= 0) {
    await Events.createEach([
      {
        name: 'Harry Potter –∏ –ö—É–±–æ–∫ —Å–µ–∑–æ–Ω–∞',
        imageUrl: 'http://game.vzaperti.com.ua/a/009/pic/potter.jpg',
        description: '<p>–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∞—Å, –¥–æ—Ä–æ–≥–∏–µ –Ω–∞—à–∏ –º–∞–ª–µ–Ω—å–∫–∏–µ –≤–æ–ª—à–µ–±–Ω–∏–∫–∏, –≤ —à–∫–æ–ª–µ —á–∞—Ä–æ–¥–µ–π—Å—Ç–≤–∞ –∏ –≤–æ–ª—à–µ–±—Å—Ç–≤–∞ –•–æ–≥–≤–∞—Ä—Ç—Å. –°–æ –≤—Å–µ–≥–æ –º–∏—Ä–∞ —Å—ä–µ–∑–∂–∞—é—Ç—Å—è —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–µ –º–∞–≥–∏, —á—Ç–æ–±—ã –ø—Ä–∏–Ω—è—Ç—å —É—á–∞—Å—Ç–∏–µ –≤ –≥—Ä–∞–Ω–¥–∏–æ–∑–Ω–æ–º —Å–æ–±—ã—Ç–∏–∏, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è —Ä–∞–∑ –≤ —Å–æ—Ç–Ω—é –ª–µ—Ç, –∏ —Å–æ–±—ã—Ç–∏–µ —ç—Ç–æ - –ö—É–±–æ–∫ —Å–µ–∑–æ–Ω–∞! –ï—Å–ª–∏ –≤—ã –Ω–µ –º–∞–≥–≥–ª—ã, —Ç–æ –ø–æ–ª–∏—Ä—É–π—Ç–µ —Å–≤–æ–∏ –≤–æ–ª—à–µ–±–Ω—ã–µ –ø–∞–ª–æ—á–∫–∏, –ø–æ–≤—Ç–æ—Ä—è–π—Ç–µ –ó–∞—â–∏—Ç—É –æ—Ç –¢–µ–º–Ω—ã—Ö –ò—Å–∫—É—Å—Å—Ç–≤, –¥–µ–ª–∞–π—Ç–µ —à–ø–∞—Ä–≥–∞–ª–∫–∏ –ø–æ –∑–µ–ª—å–µ–≤–∞—Ä–µ–Ω–∏—é - –º—ã —Å–∫–æ—Ä–æ –Ω–∞—á–∏–Ω–∞–µ–º! –ë—Ä–æ—Å–∞—Ç—å —Å–≤–æ–∏ –∏–º–µ–Ω–∞ –≤ —á–∞—à—É –º–æ–∂–Ω–æ —Ç—É—Ç: http://game.vzaperti.com.ua/a/009/</p><p>–î–ª—è –∏–≥—Ä—ã –≤–∞–º –Ω—É–∂–Ω–æ:</p><p>- –°–æ–±—Ä–∞—Ç—å –¥—Ä—É–∑–µ–π (–¥–æ –ø—è—Ç–∏ —á–µ–ª–æ–≤–µ–∫ —Å –≤–æ–¥–∏—Ç–µ–ª–µ–º).<br />- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é –∫–æ–º–∞–Ω–¥—É (–∏–ª–∏ –∏–≥—Ä–∞—Ç—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π) –∏ –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –∏–≥—Ä—É –ø–æ —Å—Å—ã–ª–∫–µ http://game.vzaperti.com.ua/a/009<br />- –§–æ–Ω–∞—Ä–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–ª–µ–Ω–∞ —ç–∫–∏–ø–∞–∂–∞.<br />- –°–º–∞—Ä—Ç—Ñ–æ–Ω —Å –≤—ã—Ö–æ–¥–æ–º –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∫–∞–∂–¥–æ–º—É).<br />- –ñ–¥–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π.</p><p>–°—Ç–æ–∏–º–æ—Å—Ç—å –∏–≥—Ä—ã ‚Äì 500 –≥—Ä–Ω. —Å –∫–æ–º–∞–Ω–¥—ã.</p><p>–í—ã –º–æ–∂–µ—Ç–µ –æ–ø–ª–∞—Ç–∏—Ç—å –æ–Ω–ª–∞–π–Ω –ø—Ä–∏ –ø–æ–¥–∞—á–µ –∑–∞—è–≤–∫–∏ (—Å—Å—ã–ª–∫–∞ –≤—ã—à–µ), –Ω–∞ —Å—Ç–∞—Ä—Ç–µ –ø–µ—Ä–µ–¥ –∏–≥—Ä–æ–π –ª–∏–±–æ –Ω–∞ –ø–ª–æ—â–∞–¥–∫–µ –∫–≤–µ—Å—Ç-–∫–æ–º–Ω–∞—Ç ‚Äú–í–∑–∞–ø–µ—Ä—Ç–∏‚Äù —Å 11:00 –¥–æ 20:00 –ø–æ –∞–¥—Ä–µ—Å—É —É–ª. –í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∞—è, 82–ê. –ö—Å—Ç–∞—Ç–∏: –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∞ –ö—Ä–∏–ø—Ç–µ–∫—Å –ö–ª—É–±–∞, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –≤–∑—è—Ç—å –µ–µ —Å —Å–æ–±–æ–π üòâ –û–Ω–∞ –¥–∞—Å—Ç —Å–∫–∏–¥–∫—É 20% –Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏–≥—Ä—ã.</p><p>–í—Ä–µ–º—è —Å–±–æ—Ä–∞:<br />19 –º–∞—è 18:30 (—Å—Ç–∞—Ä—Ç –≤ 19:00)</p><p>–ú–µ—Å—Ç–æ —Å–±–æ—Ä–∞:<br />–ø–∞—Ä–∫–æ–≤–∫–∞ –ø–µ—Ä–µ–¥ –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –∏–º. –í–µ—Ä–Ω–∞–¥—Å–∫–æ–≥–æ (–º–µ—Ç—Ä–æ –î–µ–º–µ–µ–≤—Å–∫–∞—è), 50.403704, 30.517255</p><p>–î–ª–∏–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∞: —É—Ç–æ—á–Ω—è–µ—Ç—Å—è</p><p>–í—Ä–µ–º—è –∏–≥—Ä—ã: 4 —á–∞—Å–∞.</p><p>–ò–≥—Ä–∞ –±—É–¥–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –¥–ª—è –¥–≤—É—Ö –ª–∏–≥: –û—Ç–∫—Ä—ã—Ç–æ–π –∏ –õ–∏–≥–∏ –ø—Ä–æ—Ñ–∏. –î–ª—è –õ–∏–≥–∏ –ø—Ä–æ—Ñ–∏ –±—É–¥–µ—Ç –±–æ–ª—å—à–µ –∑–∞–¥–∞–Ω–∏–π, —Å–ª–æ–∂–Ω–µ–π –ø–æ–∏—Å–∫, –º–æ–≥—É—Ç –±—ã—Ç—å –¥—Ä—É–≥–∏–µ —Ç–∞–π–º–∏–Ω–≥–∏ (–≤—Ä–µ–º—è –¥–æ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∏ –¥–æ –∞–≤—Ç–æ–ø–µ—Ä–µ—Ö–æ–¥–∞). –ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤ –Ω–∞—á–∞–ª–µ –∏–≥—Ä—ã —Å–∞–º–∞ —Ä–µ—à–∞–µ—Ç, –≤ –∫–∞–∫–æ–π –ª–∏–≥–µ –∏–≥—Ä–∞—Ç—å.</p><p>–ù–∞ —Ñ–∏–Ω–∏—à–µ –±—É–¥—É—Ç –ø—Ä–∏–∑—ã –æ—Ç ‚Äú–í–∑–∞–ø–µ—Ä—Ç–∏‚Äù –∏ –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –≤ —É—é—Ç–Ω–æ–º –º–µ—Å—Ç–µ, –≥–¥–µ –º–æ–∂–Ω–æ —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è –ø–æ—Å–ª–µ –∫–≤–µ—Å—Ç–∞.</p><p>–ö—Å—Ç–∞—Ç–∏, —É –Ω–∞—Å –µ—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±–æ–Ω—É—Å–Ω—ã–π –ø—Ä–∏–∑ –∑–∞ –ª—É—á—à–∏–π —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥—Ä–µ—Å—Å-–∫–æ–¥. –ú—ã –≤–∞—Å –æ—Ç—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–µ–º –Ω–∞ —Å—Ç–∞—Ä—Ç–µ –∏ –≤—Ä—É—á–∏–º –ø—Ä–∏–∑ –Ω–∞ –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–∏.</p><p>–ò –ø–æ–º–Ω–∏–º, —á—Ç–æ –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –∑–∞ —Ñ–∏–Ω–∞–ª ‚Äì —ç—Ç–æ –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º —Å–µ–∑–æ–Ω–∞, –≤–µ–¥—å –∫–æ–º–∞–Ω–¥—ã –Ω–∞ —Ñ–∏–Ω–∏—à–µ –ø–æ–ª—É—á–∞—é—Ç –≥–∞–Ω–¥–∏–∫–∞–ø. –ü–æ–¥—Ä–æ–±–Ω–µ–π –æ–ø–∏—Å–∞–Ω–æ –≤ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–µ: https://vzaperti.com.ua/s/auto-rules</p><p>–ù–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ –ø–æ–∏—Å—Ç–∏–Ω–µ –≤–æ–ª—à–µ–±–Ω—ã–π —Ñ–∏–Ω–∞–ª!</p>',
        price: '{}',
        dateStart: '2018-05-19 19:00:00',
        dateEnd: '2018-05-19 23:00:00',
        location: '—É–ª. –í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∞—è, 82–∞, –ö–∏–µ–≤, 01033',
        latlng: '50.43538,30.50878',
        appDeadline: '2018-05-19 19:00:00',
        maxPlayers: 1000,
        admins: [2],
        type: 3,
        owner: 1,
      }
    ])
  }

  // Don't forget to trigger `done()` when this bootstrap function's logic is finished.
  // (otherwise your server will never lift, since it's waiting on the bootstrap)
  return done();

};
